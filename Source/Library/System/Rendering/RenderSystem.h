//*************************************************************
//
// RenderSystem.h
//
// DirectX9初期化用クラス
//
// Date: 2019/07/30 更新
//
//*************************************************************

#pragma once

//=============================================================
// インクルード
//=============================================================
#include "../../Application/Window.h"

//=============================================================
// クラス定義
//=============================================================
class CRenderSystem
{
public:

	//-------------------------------------------------------------
	// シングルトン生成
	//-------------------------------------------------------------
	static CRenderSystem* Create();

	//-------------------------------------------------------------
	// 初期化
	// 引　数：CWindowSystem	ウィンドウシステムクラスのポインタ
	//-------------------------------------------------------------
	void Initialize(CWindowSystem* pWindowSystem);

	//-------------------------------------------------------------
	// 解放
	//-------------------------------------------------------------
	void Release();

	//-------------------------------------------------------------
	// デバイスの取得
	// 戻り値：const LPDIRECT3DDEVICE9	デバイスのポインタ
	//-------------------------------------------------------------
	LPDIRECT3DDEVICE9 GetDevice() const;

	//-------------------------------------------------------------
	// バックバッファのクリア
	// 引　数：const DWORD	色の指定
	//-------------------------------------------------------------
	void Clear(const DWORD value);

	//-------------------------------------------------------------
	// レンダリング開始
	//-------------------------------------------------------------
	void BeginRender();

	//-------------------------------------------------------------
	// レンダリング終了
	//-------------------------------------------------------------
	void EndRender();

	//-------------------------------------------------------------
	// 画面スワップ
	//-------------------------------------------------------------
	void Present();

	//-------------------------------------------------------------
	// スプライトレンダリング開始
	// 備　考：描画前に呼び出しを必ず
	//-------------------------------------------------------------
	void SpriteBegin();

	//-------------------------------------------------------------
	// スプライトレンダリング終了
	// 備　考：描画後に呼び出しを必ず
	//-------------------------------------------------------------
	void SpriteClose();

private:

	//-------------------------------------------------------------
	// コンストラクタ
	//-------------------------------------------------------------
	CRenderSystem();

	//-------------------------------------------------------------
	// デストラクタ
	//-------------------------------------------------------------
	~CRenderSystem();

	LPDIRECT3D9			m_pDirect3D;
	LPDIRECT3DDEVICE9	m_pDevice;

	//コピー防止
	CRenderSystem& operator=(const CRenderSystem&);
	CRenderSystem(const CRenderSystem&);
};