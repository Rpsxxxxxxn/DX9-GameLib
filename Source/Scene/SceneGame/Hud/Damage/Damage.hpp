//********************************************************************************
//
// Damage.hpp
//
// ダメージ量表示用クラス
//
// Date: 2019/07/30 更新
//
//********************************************************************************

#pragma once

//================================================================================
// インクルード
//================================================================================
#include "../../../GameManager/GameManager.h"
#include "../../Camera/PlayerCamera.hpp"

//================================================================================
// 構造体定義
//================================================================================
struct DamageData
{
	Vector3 vecPos;//出現位置
	CSpriteValue* pSpriteValue;//描画用クラス
};

//================================================================================
// クラス定義
//================================================================================
class CShowDamage
{
public:

	//--------------------------------------------------------------------------------
	// コンストラクタ
	//--------------------------------------------------------------------------------
	CShowDamage();

	//--------------------------------------------------------------------------------
	// デストラクタ
	//--------------------------------------------------------------------------------
	~CShowDamage();

	//--------------------------------------------------------------------------------
	// ファイル読み込み
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	void LoadFile(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// 更新
	// 引　数：CSystem*			システムクラスのポインタ
	// 　　　　CPlayerCamera	カメラクラスのポインタ
	//--------------------------------------------------------------------------------
	void Update(CSystem* pSystem, CPlayerCamera* pCamera);

	//--------------------------------------------------------------------------------
	// 描画
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	void Draw(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// ダメージ表示の追加
	// 引　数：CSystem*			システムクラスのポインタ
	// 　　　　const Vector3	表示する位置ベクトル
	// 　　　　const int		ダメージ量
	//--------------------------------------------------------------------------------
	void AddDamage(CSystem* pSystem, const Vector3 vecPos, const int damage);

private:

	//--------------------------------------------------------------------------------
	// ダメージ表示の削除
	//--------------------------------------------------------------------------------
	void EraseDamage();

	vector<DamageData> m_vecSprite;
};