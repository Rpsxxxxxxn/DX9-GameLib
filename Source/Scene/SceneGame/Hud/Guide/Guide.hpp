//********************************************************************************
//
// Guide.hpp
//
// ガイド表示用クラス
//
// Date: 2019/07/30 更新
//
//********************************************************************************

#pragma once

//================================================================================
// インクルード
//================================================================================
#include "../../../GameManager/GameManager.h"
#include "../../AI/AIManager.hpp"
#include "../../Player/Player.hpp"

//================================================================================
// クラス定義
//================================================================================
class CGuide
{
public:

	//--------------------------------------------------------------------------------
	// コンストラクタ
	//--------------------------------------------------------------------------------
	CGuide();

	//--------------------------------------------------------------------------------
	// デストラクタ
	//--------------------------------------------------------------------------------
	~CGuide();

	//--------------------------------------------------------------------------------
	// ファイル読み込み
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	void LoadFile(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// 初期化
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	void Initialize(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// 更新
	// 引　数：CSystem*	システムクラスのポインタ
	// 　　　　CPlayer*	プレイヤークラスのポインタ
	// 　　　　CAIManager*	敵管理クラスのポインタ
	//--------------------------------------------------------------------------------
	void Update(CSystem* pSystem, CPlayer* pPlayer, CAIManager* pAI);

	//--------------------------------------------------------------------------------
	// 描画
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	void Draw(CSystem* pSystem);

private:

	//--------------------------------------------------------------------------------
	// 敵と自分の距離計算
	// 引　数：CPlayer*	プレイヤークラスのポインタ
	// 　　　　CAIManager*	敵管理クラスのポインタ
	//--------------------------------------------------------------------------------
	void CalcAIAndPlayerDistance(CPlayer* pPlayer, CAIManager* pAI);

	//--------------------------------------------------------------------------------
	// ガイドの表示(攻撃)
	//--------------------------------------------------------------------------------
	void ShowAttackGuide();

	//--------------------------------------------------------------------------------
	// ガイドの表示
	//--------------------------------------------------------------------------------
	void ShowGuide();

	//--------------------------------------------------------------------------------
	// パラメータの取得
	// 引　数：const string ファイル名
	//--------------------------------------------------------------------------------
	void LoadParams(const string strFileName);

	//--------------------------------------------------------------------------------
	// パラメータの保存
	// 引　数：const string ファイル名
	//--------------------------------------------------------------------------------
	void InitParams(const string strFileName);

	enum SpriteTexture
	{
		ST_GUIDE,
		ST_ATTACK,
		ST_MAX
	};

	CSpriteAnimation* m_pSprite[ST_MAX];

	float m_showDistance;
	float m_halfWidth;
	float m_halfHeight;

	bool m_isShowAttackGuide;
};