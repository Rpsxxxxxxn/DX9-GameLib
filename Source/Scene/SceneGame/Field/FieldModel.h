//********************************************************************************
//
// FieldModel.h
//
// フィールドクラス
//
// Date: 2019/07/30 更新
//
//********************************************************************************

#pragma once

//================================================================================
// インクルード
//================================================================================
#include "../../GameManager/GameManager.h"

//================================================================================
// クラス定義
//================================================================================
class CField : public CGameObject
{
public:

	//--------------------------------------------------------------------------------
	// コンストラクタ
	//--------------------------------------------------------------------------------
	CField();

	//--------------------------------------------------------------------------------
	// デストラクタ
	//--------------------------------------------------------------------------------
	~CField();

	//--------------------------------------------------------------------------------
	// 初期化
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	virtual void Initialize(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// 更新
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	void Update(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// 描画
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	void DrawZDepth(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// 描画
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	void DrawShader(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// 当たり判定の生成
	//--------------------------------------------------------------------------------
	void Create(CSystem* pSystem, const int field);

	//--------------------------------------------------------------------------------
	// フィールド範囲の取得
	// 戻り値：const Vector3	フィールドの範囲
	//--------------------------------------------------------------------------------
	Vector3 GetFieldLimit() const { return m_vecLimit; };

	//--------------------------------------------------------------------------------
	// メッシュの取得
	// 戻り値：CFieldMesh*	メッシュの取得
	//--------------------------------------------------------------------------------
	CMesh* GetMesh() const { return m_pMesh; };

private:

	//モデル
	CXFileModel* m_pModel;

	//当たり判定用
	CMesh* m_pMesh;

	//フィールドの範囲
	Vector3 m_vecLimit;
};