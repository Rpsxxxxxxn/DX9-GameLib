//********************************************************************************
//
// BigLeftHand.hpp
//
// 左手がでかいボスクラス
//
// Date: 2019/07/30 更新
//
//********************************************************************************

#pragma once

//================================================================================
// インクルード
//================================================================================
#include "../../../../GameManager/GameManager.h"
#include "../../../Player/Player.hpp"
#include "../BossBase.hpp"

//================================================================================
// クラス定義
//================================================================================
class CBigLeftHand : public CBossBase
{
public:

	//--------------------------------------------------------------------------------
	// コンストラクタ
	//--------------------------------------------------------------------------------
	CBigLeftHand();

	//--------------------------------------------------------------------------------
	// デストラクタ
	//--------------------------------------------------------------------------------
	~CBigLeftHand();

	//--------------------------------------------------------------------------------
	// ファイル読み込み
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	void LoadFile(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// 初期化
	// 引　数：CSystem*	システムクラスのポインタ
	//--------------------------------------------------------------------------------
	void Initialize(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// 更新
	// 引　数：CSystem*	システムクラスのポインタ
	// 　　　　CPlayer*	プレイヤークラスのポインタ
	//--------------------------------------------------------------------------------
	void Update(CSystem* pSystem, CPlayer* pPlayer);

private:

	//--------------------------------------------------------------------------------
	// 敵の操作
	// 引　数：CPlayer*	プレイヤークラスのポインタ
	//--------------------------------------------------------------------------------
	void Controller(CSystem* pSystem, CPlayer* pPlayer);

	//--------------------------------------------------------------------------------
	// プレイヤーが範囲内に入っているか検索
	// 引　数：CPlayer*	プレイヤークラスのポインタ
	//--------------------------------------------------------------------------------
	void UpdateDiscovery(CPlayer* pPlayer);

	//--------------------------------------------------------------------------------
	// 歩く
	// 引　数：const float	近距離限界
	//--------------------------------------------------------------------------------
	void Move(const float distance);

	//--------------------------------------------------------------------------------
	// 回転
	// 引　数：Vector3&	ターゲットとなる位置ベクトル
	//--------------------------------------------------------------------------------
	void Rotate(Vector3& vecPos);

	//--------------------------------------------------------------------------------
	// アニメーション更新
	//--------------------------------------------------------------------------------
	void ModelRotate(const Vector3& pCross);

	//--------------------------------------------------------------------------------
	// 攻撃距離
	//--------------------------------------------------------------------------------
	void AttackDistance();

	//--------------------------------------------------------------------------------
	// ランダム攻撃
	//--------------------------------------------------------------------------------
	void RandomAttack(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// 攻撃を開始する
	//--------------------------------------------------------------------------------
	void StartAttack();

	//--------------------------------------------------------------------------------
	// 攻撃中の処理
	//--------------------------------------------------------------------------------
	void NowAttack();

	//--------------------------------------------------------------------------------
	// 死亡する
	//--------------------------------------------------------------------------------
	void Death(CSystem* pSystem);

	//--------------------------------------------------------------------------------
	// アニメーション更新
	//--------------------------------------------------------------------------------
	void UpdateAnimation();

	enum Animation
	{
		IDLE,
		WALK,
		ATTACK1,
		ATTACK2,
		ATTACK3,
		DEATH,
	};

	bool m_isAttackDist;

};